{% load i18n %}
<div class="register">

    <h3>{% trans 'Register, or' %} <a href="{% url 'login' %}">{% trans 'Log in' %}</a></h3>

    <div class="row">
        {% for field in form %}
            {% if field.errors %}
                {% for error in field.errors %}

                {% endfor %}
            {% endif %}
        {% endfor %}
        <div class="col-xs-6 col-sm-6 col-md-6">
            <a href="#" class="btn btn-lg btn-block btn-facebook">Facebook</a>
        </div>
        <div class="col-xs-6 col-sm-6 col-md-6">
            <a href="#" class="btn btn-lg btn-block btn-google">Google</a>
        </div>
    </div>
    <div class="login-or">
        <span class="span-or">{% trans 'or' %}</span>
    </div>

    <form role="form" action="{% url 'register' %}" method="POST">
        <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">

        <div class="form-group{% if form.email.errors %} has-error{% endif %}">
            <label for="inputEmail">{% trans 'Email' %}</label>
            <input type="email" class="form-control" id="inputEmail" name="email">
            {{ form.email.errors }}
        </div>
        <div class="form-group{% if form.username.errors %} has-error{% endif %}">
            <label for="inputUsername">{% trans 'Username' %}</label>
            <input type="text" class="form-control" id="inputUsername" name="username">
            {{ form.username.errors }}
        </div>
        <div class="form-group{% if form.password1.errors %} has-error{% endif %}">
            <label for="inputPassword1">{% trans 'Password' %}</label>
            <input type="password" class="form-control" id="inputPassword1" name="password1">
            {{ form.password1.errors }}
        </div>
        <div class="form-group{% if form.password2.errors %} has-error{% endif %}">
            <label for="inputPassword2">{% trans 'Repeat password' %}</label>
            <input type="password" class="form-control" id="inputPassword2" name="password2">
            {{ form.password2.errors }}
        </div>

        {% if terms_error %}
            <div class="alert alert-danger alert-dismissable animated bounce fade in">
                <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
                {{ terms_error }}
            </div>
        {% endif %}

        <div class="checkbox pull-right{% if terms_error %} has-error{% endif %}">
            <label>
                <input type="checkbox" name="terms_and_conditions">
                {% trans 'Accept' %} <a href="#">{% trans 'terms and conditions' %}</a></label>
        </div>

        <button type="submit" class="btn btn btn-primary">
            {% trans 'Register' %}
        </button>
    </form>

</div>

{#todo: remove me#}
{#<form role="form" action="{% url 'register' %}">#}
{#    <input type="hidden" name="csrfmiddlewaretoken" value="{{ csrf_token }}">#}
{#    {{ form.as_p }}#}
{#</form>#}